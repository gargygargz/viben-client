(this["webpackJsonpviben-client"]=this["webpackJsonpviben-client"]||[]).push([[0],{107:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(16),c=a.n(n),r=(a(79),a(53)),i=a(3),l=a(8),o=a(117),b=(a(80),a(57)),j=a(1);var u=function(e){var t=e.variant,a=e.heading,n=e.message,c=Object(s.useState)(!0),r=Object(i.a)(c,2),l=r[0],o=r[1],u=Object(s.useState)(null),d=Object(i.a)(u,2),m=d[0],v=d[1];return console.log(m),Object(s.useEffect)((function(){var e=setTimeout((function(){return o(!1)}),5e3);return v(e),function(){clearTimeout(m)}}),[]),Object(j.jsx)(b.a,{variant:t,onClose:function(){return o(!1)},dismissible:!0,show:l,children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(b.a.Heading,{children:a}),Object(j.jsx)("p",{className:"alert-body",children:n})]})})},d=a(71),m=a(43),v=a(69),h=a(11),O=(a(85),a(14)),x=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h.c,{to:"/vibes/all",className:"nav-link",children:Object(j.jsx)(O.f,{})}),Object(j.jsx)(h.c,{to:"/vibes",className:"nav-link-v",children:"V"}),Object(j.jsx)(h.c,{to:"/vibes/favorites",className:"nav-link",children:Object(j.jsx)(O.h,{className:"nav-link-star-icon"})}),Object(j.jsx)(h.c,{to:"/vibes/create",className:"nav-link",children:Object(j.jsx)(O.g,{className:"nav-link-plus-icon"})}),Object(j.jsx)(h.c,{to:"/change-password",className:"nav-link",children:Object(j.jsx)(O.i,{})}),Object(j.jsx)(h.c,{to:"/sign-out",className:"nav-link",children:Object(j.jsx)(O.c,{})})]}),p=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h.c,{to:"/sign-up",className:"nav-link",children:"Sign Up"}),Object(j.jsx)(h.c,{to:"/sign-in",className:"nav-link",children:"Sign In"})]}),g=Object(j.jsx)(j.Fragment,{}),f=function(e){var t=e.user;return Object(j.jsx)(m.a,{bg:"dark",variant:"dark",expand:"md",className:"navbar-styling sticky-top",children:Object(j.jsxs)(v.a,{children:[Object(j.jsx)(m.a.Brand,{children:Object(j.jsx)(h.b,{to:"/",style:{color:"#DB3EB1",textDecoration:"none"},children:"V I B E N"})}),Object(j.jsx)(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(m.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(d.a,{className:"ms-auto",children:[t&&Object(j.jsx)("span",{className:"navbar-text me-2",children:t.username}),g,t?x:p]})})]})})},w=a(7),N=a.n(w),k=a(12),S="https://quiet-brushlands-25069.herokuapp.com",y="http://localhost:4741",C="localhost"===window.location.hostname?y:S,A=a(19),I=a.n(A),V=function(e,t,a,s){return I.a.post(C+"/sign-up/",{credentials:{email:e,username:t,password:a,password_confirmation:s}})},L=function(e,t){return I.a.post(C+"/sign-in/",{credentials:{email:e,password:t}})},P=function(e){return I.a.delete(C+"/sign-out/",{headers:{Authorization:"Bearer ".concat(e.token)}})},E=function(e,t,a){return I.a.patch(C+"/change-password/",{passwords:{old:e,new:t}},{headers:{Authorization:"Bearer ".concat(a.token)}})},F=a(10),B=a(36),U=a.p+"static/media/palm_leaves.58d90fb5.jpg",_=(a(55),function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(s.useState)(""),h=Object(i.a)(v,2),O=h[0],x=h[1],p=Object(s.useState)(""),g=Object(i.a)(p,2),f=g[0],w=g[1],S=Object(s.useState)(!1),y=Object(i.a)(S,2),C=y[0],A=y[1],I=function(){var e=Object(k.a)(N.a.mark((function e(s){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,V(r,d,O,f);case 4:return e.next=6,L(r,O);case 6:n=e.sent,a(n.data.user),t({heading:"Sign Up Success",message:"Succesfully registered! You've been signed in as well.",variant:"success"}),A(!0),e.next=19;break;case 12:e.prev=12,e.t0=e.catch(1),o(""),m(""),x(""),w(""),t({heading:"Sign Up Failed with error: "+e.t0.message,message:"Registration failed. Email may be taken, or passwords don't match.",variant:"danger"});case 19:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return C?Object(j.jsx)(l.a,{to:"/vibes/all"}):Object(j.jsx)("div",{className:"signup-container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("img",{className:"background-image",src:U,alt:"palm leaves"}),Object(j.jsx)("h3",{className:"auth-text-1",children:"Sign Up"}),Object(j.jsxs)(F.a,{onSubmit:I,children:[Object(j.jsxs)(F.a.Group,{controlId:"email",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Email address"}),Object(j.jsx)(F.a.Control,{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"username",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Username"}),Object(j.jsx)(F.a.Control,{required:!0,type:"username",name:"username",value:d,placeholder:"Create username",onChange:function(e){return m(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"password",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Password"}),Object(j.jsx)(F.a.Control,{required:!0,name:"password",value:O,type:"password",placeholder:"Password",onChange:function(e){return x(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"passwordConfirmation",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Password Confirmation"}),Object(j.jsx)(F.a.Control,{required:!0,name:"passwordConfirmation",value:f,type:"password",placeholder:"Confirm Password",onChange:function(e){return w(e.target.value)}})]}),Object(j.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})})}),D=function(e){var t=e.msgAlert,a=e.setUser,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(s.useState)(!1),h=Object(i.a)(v,2),O=h[0],x=h[1],p=function(){var e=Object(k.a)(N.a.mark((function e(s){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,L(r,d);case 4:n=e.sent,a(n.data.user),t({heading:"Sign In Success",message:"Welcome!",variant:"success"}),x(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),o(""),m(""),t({heading:"Sign In Failed with error: "+e.t0.message,message:"Failed to sign in. Check your email and password and try again.",variant:"danger"});case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return O?Object(j.jsx)(l.a,{to:"/vibes/all"}):Object(j.jsx)("div",{className:"signin-container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("img",{className:"background-image",src:U,alt:"palm leaves"}),Object(j.jsx)("h3",{className:"auth-text-1",children:"Sign In"}),Object(j.jsxs)(F.a,{onSubmit:p,children:[Object(j.jsxs)(F.a.Group,{controlId:"email",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Email address"}),Object(j.jsx)(F.a.Control,{required:!0,type:"email",name:"email",value:r,placeholder:"Enter email",onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"password",children:[Object(j.jsx)(F.a.Label,{className:"auth-text-2",children:"Password"}),Object(j.jsx)(F.a.Control,{required:!0,name:"password",value:d,type:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}})]}),Object(j.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})})},G=function(e){var t=e.msgAlert,a=e.clearUser,n=e.user,c=Object(s.useState)(!1),r=Object(i.a)(c,2),o=r[0],b=r[1];return Object(s.useEffect)((function(){(function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:t({heading:"Signed Out Successfully",message:"Come back soon!",variant:"success"}),a(),b(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),!n||o?Object(j.jsx)(l.a,{to:"/"}):""},z=a.p+"static/media/palm_trees_vertical.6bcb7f62.jpg",q=function(e){var t=e.msgAlert,a=e.user,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(s.useState)(!1),h=Object(i.a)(v,2),O=h[0],x=h[1],p=function(){var e=Object(k.a)(N.a.mark((function e(s){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,E(r,d,a);case 4:t({heading:"Change Password Success",message:"Password changed successfully!",variant:"success"}),x(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),o(""),m(""),t({heading:"Change Password Failed with error: "+e.t0.message,message:"Failed to change passwords. Check your old password and try again.",variant:"danger"});case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return!a||O?Object(j.jsx)(l.a,{to:"/"}):Object(j.jsx)("div",{className:"changepw-container",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("img",{className:"background-image2",src:z,alt:"palm tree"}),Object(j.jsx)("h3",{className:"title-text",children:"Change Password"}),Object(j.jsxs)(F.a,{onSubmit:p,children:[Object(j.jsxs)(F.a.Group,{controlId:"oldPassword",children:[Object(j.jsx)(F.a.Label,{children:"Old password"}),Object(j.jsx)(F.a.Control,{required:!0,name:"oldPassword",value:r,type:"password",placeholder:"Old Password",onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"newPassword",children:[Object(j.jsx)(F.a.Label,{children:"New Password"}),Object(j.jsx)(F.a.Control,{required:!0,name:"newPassword",value:d,type:"password",placeholder:"New Password",onChange:function(e){return m(e.target.value)}})]}),Object(j.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})]})})})},T=(a(107),a.p+"static/media/home_slogan.75b1b415.png"),H=function(){return Object(j.jsxs)("div",{className:"home-container",children:[Object(j.jsx)("img",{className:"background-image",src:U,alt:"palm leaves"}),Object(j.jsx)("img",{className:"home-slogan",src:T,alt:"palm leaves"})]})},J=a(116),R=function(e){return I.a.get(C+"/vibes/",{headers:{Authorization:"Bearer ".concat(e.token)}})},M=function(e){return I.a.get(C+"/vibes/all",{headers:{Authorization:"Bearer ".concat(e.token)}})},W=function(e){return I.a.get(C+"/vibes/favorites",{headers:{Authorization:"Bearer ".concat(e.token)}})},Y=function(e,t){return I.a.get("".concat(C,"/vibes/").concat(e,"/"),{headers:{Authorization:"Bearer ".concat(t.token)}})},K=function(e,t){return I.a.delete("".concat(C,"/vibes/").concat(e),{headers:{Authorization:"Bearer ".concat(t.token)}})},Q=function(e,t,a,s,n){return I.a.patch("".concat(C,"/vibes/").concat(e),{vibe:{img:t,title:a,description:s}},{headers:{Authorization:"Bearer ".concat(n.token)}})},X=function(e,t,a,s,n,c){return I.a.patch("".concat(C,"/vibes/likes/").concat(e),{vibe:{img:t,title:a,description:s,likes:n}},{headers:{Authorization:"Bearer ".concat(c.token)}})},Z=function(e,t,a,s,n,c){return I.a.patch("".concat(C,"/vibes/favorited/").concat(e),{vibe:{img:t,title:a,description:s,favorited:n}},{headers:{Authorization:"Bearer ".concat(c.token)}})},$=function(e,t,a,s){return I.a.post("".concat(C,"/vibes"),{vibe:{img:e,title:t,description:a}},{headers:{Authorization:"Bearer ".concat(s.token)}})},ee=(a(28),a(15)),te=function(e){var t=Object(s.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!1),l=Object(i.a)(r,2),o=l[0],b=l[1];return Object(j.jsx)(ee.a,{className:"vibe-card",children:Object(j.jsx)("div",{children:Object(j.jsxs)(ee.b,{children:[Object(j.jsx)("div",{className:"vibe-username",children:e.vibe.owner.username}),Object(j.jsx)(ee.d,{children:e.vibe.title}),Object(j.jsx)(h.b,{to:"/vibes/".concat(e.vibe._id),children:Object(j.jsx)("div",{className:"vibe-item-img",children:Object(j.jsx)(ee.c,{src:e.vibe.img})})}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"likes-favorites-buttons",onClick:Object(k.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(a=n+1),t.prev=2,t.next=5,X(e.vibe._id,e.vibe.img,e.vibe.title,e.vibe.description,a,e.user);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.msgAlert({heading:"Failed to update vibe",message:t.t0.message,variant:"danger"});case 10:e.fetchVibes();case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),children:[e.vibe.likes.length>=1?Object(j.jsx)(O.a,{className:"vibes-heart"}):Object(j.jsx)(O.e,{}),Object(j.jsx)("span",{className:"vibes-likes-count",children:e.vibe.likes.length})]}),Object(j.jsx)("div",{className:"likes-favorites-buttons",onClick:Object(k.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(a=!o),t.prev=2,t.next=5,Z(e.vibe._id,e.vibe.img,e.vibe.title,e.vibe.description,a,e.user);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.msgAlert({heading:"Failed to update vibe",message:t.t0.message,variant:"danger"});case 10:e.fetchVibes();case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),children:!0===e.vibe.favorited?Object(j.jsx)(O.b,{className:"vibes-star"}):Object(j.jsx)(O.h,{})})]}),Object(j.jsxs)(ee.d,{className:"vibe-username-description",children:[Object(j.jsx)("span",{className:"vibe-username",children:e.vibe.owner.username})," ",e.vibe.description]})]})})})},ae=function(e){var t=e.user,a=e.msgAlert,n=Object(s.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1];if(!t)return Object(j.jsx)(l.a,{to:"/"});var b=function(){var e=Object(k.a)(N.a.mark((function e(){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:s=e.sent,o(s.data.vibes),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Vibes List failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(Object(s.useEffect)((function(){b()}),[]),!r)return Object(j.jsx)(J.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var u=r.reverse().map((function(e){return Object(j.jsx)(te,{fetchVibes:b,vibe:e,user:t,msgAlert:a},e._id)}));return Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsxs)("h3",{className:"vibes-header",children:["My ",Object(j.jsx)("span",{className:"vibes-v",children:"V"}),"ibes"]}),Object(j.jsx)("ul",{children:u})]})})},se=function(e){var t=e.user,a=e.msgAlert,n=Object(s.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(!1),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(l.h)().id;if(!t)return Object(j.jsx)(l.a,{to:"/"});Object(s.useEffect)((function(){(function(){var e=Object(k.a)(N.a.mark((function e(){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(v,t);case 3:s=e.sent,o(s.data.vibe),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Vibe failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(){var e=Object(k.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K(v,t);case 3:m(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a({heading:"Failed to delete vibe",message:e.t0.message,variant:"danger"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r?d?Object(j.jsx)(l.a,{to:"/vibes"}):Object(j.jsx)(ee.a,{children:Object(j.jsx)(ee.b,{children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("div",{className:"vibe-username",children:r.owner.username}),Object(j.jsx)(ee.d,{children:r.title}),Object(j.jsx)("div",{className:"vibe-item-img",children:Object(j.jsx)(ee.c,{src:r.img})}),Object(j.jsxs)(ee.d,{children:[Object(j.jsx)("span",{className:"vibe-username",children:r.owner.username})," ",r.description]}),Object(j.jsx)(h.b,{to:"/vibes/".concat(v,"/edit"),children:Object(j.jsx)(B.a,{className:"button-update",variant:"primary",type:"submit",children:"Update Vibe"})}),Object(j.jsx)(B.a,{className:"button-delete",variant:"danger",onClick:O,children:"Delete Vibe"})]})})})}):Object(j.jsx)(J.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})},ne=function(e){var t=e.handleSubmit,a=e.img,s=e.title,n=e.description,c=e.setImg,r=e.setTitle,i=e.setDescription;return Object(j.jsxs)(F.a,{onSubmit:t,children:[Object(j.jsxs)(F.a.Group,{controlId:"image",children:[Object(j.jsx)(F.a.Label,{children:"Image"}),Object(j.jsx)(F.a.Control,{placeholder:"Enter image source URL",type:"text",name:"image",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"title",children:[Object(j.jsx)(F.a.Label,{children:"Title"}),Object(j.jsx)(F.a.Control,{placeholder:"e.g. The boysenberry blues",name:"title",value:s,onChange:function(e){return r(e.target.value)}})]}),Object(j.jsxs)(F.a.Group,{controlId:"description",children:[Object(j.jsx)(F.a.Label,{children:"Description"}),Object(j.jsx)(F.a.Control,{placeholder:"e.g. The dopest, vibiest IHOP ever",name:"description",value:n,onChange:function(e){return i(e.target.value)}})]}),Object(j.jsx)(B.a,{className:"mt-2",variant:"primary",type:"submit",children:"Submit"})]})},ce=function(e){var t=e.user,a=e.msgAlert,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(s.useState)(""),h=Object(i.a)(v,2),O=h[0],x=h[1],p=Object(s.useState)(null),g=Object(i.a)(p,2),f=g[0],w=g[1],S=Object(s.useState)(""),y=Object(i.a)(S,2),C=y[0],A=y[1],I=function(){var e=Object(k.a)(N.a.mark((function e(s){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,$(r,d,O,t);case 4:n=e.sent,w(n.data.vibe._id),a({heading:"Vibe Created",message:"Created ".concat(d," successfully."),variant:"success"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({heading:"Failed to create vibe",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return t?f?Object(j.jsx)(l.a,{to:"/vibes/".concat(f)}):Object(j.jsx)("div",{className:"vibe-create",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("img",{className:"background-image2",src:z,alt:"palm tree"}),Object(j.jsxs)("h3",{className:"title-text",children:["Add a ",Object(j.jsx)("span",{className:"vibes-v",children:"V"}),"ibe"]}),Object(j.jsx)(ne,{handleSubmit:I,username:C,img:r,title:d,description:O,setUsername:A,setImg:o,setTitle:m,setDescription:x})]})})}):Object(j.jsx)(l.a,{to:"/"})},re=function(e){var t=e.user,a=e.msgAlert,n=Object(s.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1],b=Object(s.useState)(""),u=Object(i.a)(b,2),d=u[0],m=u[1],v=Object(s.useState)(""),h=Object(i.a)(v,2),O=h[0],x=h[1],p=Object(s.useState)(!1),g=Object(i.a)(p,2),f=g[0],w=g[1],S=Object(l.h)().id;if(!t)return Object(j.jsx)(l.a,{to:"/"});Object(s.useEffect)((function(){(function(){var e=Object(k.a)(N.a.mark((function e(){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(S,t);case 3:s=e.sent,o(s.data.vibe.img),m(s.data.vibe.title),x(s.data.vibe.description),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({heading:"Failed to load vibe",message:e.t0.message,variant:"danger"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(k.a)(N.a.mark((function e(s){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.prev=1,e.next=4,Q(S,r,d,O,t);case 4:w(!0),a({heading:"Vibe Updated",message:"Updated ".concat(d," successfully."),variant:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({heading:"Failed to update vibe",message:e.t0.message,variant:"danger"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return f?Object(j.jsx)(l.a,{to:"/vibes/".concat(S)}):Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsx)("h3",{className:"vibes-header",children:"Edit Vibe"}),Object(j.jsx)(ne,{handleSubmit:y,img:r,title:d,description:O,setImg:o,setTitle:m,setDescription:x})]})})},ie=function(e){var t=e.user,a=e.msgAlert,n=(e.props,Object(s.useState)(null)),c=Object(i.a)(n,2),r=c[0],o=c[1];if(!t)return Object(j.jsx)(l.a,{to:"/"});var b=function(){var e=Object(k.a)(N.a.mark((function e(){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(t);case 3:s=e.sent,o(s.data.vibes),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Vibes List failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(Object(s.useEffect)((function(){b()}),[]),!r)return Object(j.jsx)(J.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var u=r.filter((function(e){return!0===e.favorited})).reverse().map((function(e){return Object(j.jsx)(te,{fetchVibes:b,vibe:e,user:t,msgAlert:a},e._id)}));return Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsxs)("h3",{className:"vibes-header",children:["Fave ",Object(j.jsx)("span",{className:"vibes-v",children:"V"}),"ibes ",Object(j.jsx)(O.b,{className:"vibes-star"})]}),Object(j.jsx)("ul",{children:u})]})})},le=function(e){var t=Object(s.useState)(0),a=Object(i.a)(t,2),n=a[0],c=a[1];return Object(j.jsx)(ee.a,{className:"vibe-card",children:Object(j.jsx)("div",{children:Object(j.jsxs)(ee.b,{children:[Object(j.jsx)("div",{className:"vibe-username",children:e.vibe.owner.username}),Object(j.jsx)(ee.d,{children:e.vibe.title}),Object(j.jsx)(h.b,{to:"/vibes/".concat(e.vibe._id),children:Object(j.jsx)("div",{className:"vibe-item-img",children:Object(j.jsx)(ee.c,{src:e.vibe.img})})}),Object(j.jsxs)("div",{className:"likes-button",onClick:Object(k.a)(N.a.mark((function t(){var a;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(a=n+1),t.prev=2,t.next=5,X(e.vibe._id,e.vibe.img,e.vibe.title,e.vibe.description,a,e.user);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),e.msgAlert({heading:"Failed to update vibe",message:t.t0.message,variant:"danger"});case 10:e.fetchVibes();case 11:case"end":return t.stop()}}),t,null,[[2,7]])}))),children:[e.vibe.likes.length>=1?Object(j.jsx)(O.a,{className:"vibes-heart"}):Object(j.jsx)(O.e,{}),Object(j.jsx)("span",{className:"vibes-likes-count",children:e.vibe.likes.length})]}),Object(j.jsxs)(ee.d,{className:"vibe-username-description",children:[Object(j.jsx)("span",{className:"vibe-username",children:e.vibe.owner.username})," ",e.vibe.description]})]})})})},oe=function(e){var t=e.user,a=e.msgAlert,n=Object(s.useState)(null),c=Object(i.a)(n,2),r=c[0],o=c[1];if(!t)return Object(j.jsx)(l.a,{to:"/"});var b=function(){var e=Object(k.a)(N.a.mark((function e(){var s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t);case 3:s=e.sent,o(s.data.vibes),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a({heading:"Vibes List failed to load",message:e.t0.message,variant:"danger"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();if(Object(s.useEffect)((function(){b()}),[]),!r)return Object(j.jsx)(J.a,{animation:"border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})});var u=r.reverse().map((function(e){return Object(j.jsx)(le,{fetchVibes:b,vibe:e,user:t,msgAlert:a},e._id)}));return Object(j.jsx)("div",{className:"row",children:Object(j.jsxs)("div",{className:"col-sm-10 col-md-8 mx-auto mt-5",children:[Object(j.jsxs)("h3",{className:"vibes-header",children:["Global ",Object(j.jsx)("span",{className:"vibes-v",children:"V"}),"ibes ",Object(j.jsx)(O.d,{className:"vibes-globe"})]}),Object(j.jsx)("ul",{children:u})]})})},be=function(){var e=Object(s.useState)(null),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)([]),b=Object(i.a)(c,2),d=b[0],m=b[1],v=function(e){var t=e.heading,a=e.message,s=e.variant,n=Object(o.a)();m((function(e){return[].concat(Object(r.a)(e),[{heading:t,message:a,variant:s,id:n}])}))};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(f,{user:a}),d.map((function(e){return Object(j.jsx)(u,{heading:e.heading,variant:e.variant,message:e.message,id:e.id},e.id)})),Object(j.jsx)("main",{className:"container",children:Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/",element:Object(j.jsx)(H,{})}),Object(j.jsx)(l.b,{path:"/sign-up",element:Object(j.jsx)(_,{msgAlert:v,setUser:n})}),Object(j.jsx)(l.b,{path:"/sign-in",element:Object(j.jsx)(D,{msgAlert:v,setUser:n})}),Object(j.jsx)(l.b,{path:"/sign-out",element:Object(j.jsx)(G,{msgAlert:v,clearUser:function(){return n(null)},user:a})}),Object(j.jsx)(l.b,{path:"/change-password",element:Object(j.jsx)(q,{msgAlert:v,user:a})}),Object(j.jsx)(l.b,{path:"/vibes",element:Object(j.jsx)(ae,{user:a,msgAlert:v})}),Object(j.jsx)(l.b,{path:"/vibes/:id",element:Object(j.jsx)(se,{user:a,msgAlert:v})}),Object(j.jsx)(l.b,{path:"/vibes/create",element:Object(j.jsx)(ce,{msgAlert:v,user:a})}),Object(j.jsx)(l.b,{path:"/vibes/:id/edit",element:Object(j.jsx)(re,{msgAlert:v,user:a})}),Object(j.jsx)(l.b,{path:"/vibes/favorites",element:Object(j.jsx)(ie,{msgAlert:v,user:a})}),Object(j.jsx)(l.b,{path:"/vibes/all",element:Object(j.jsx)(oe,{msgAlert:v,user:a})})]})})]})},je=Object(j.jsx)(h.a,{basename:"/viben-client",children:Object(j.jsx)(be,{})});c.a.render(je,document.getElementById("root"))},28:function(e,t,a){},55:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},85:function(e,t,a){}},[[108,1,2]]]);
//# sourceMappingURL=main.a2604428.chunk.js.map